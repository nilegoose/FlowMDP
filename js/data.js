const link1_2 = [
    {
        "source": 0,
        "target": 5,
        "value": 2.0
    },
    {
        "source": 0,
        "target": 6,
        "value": 2.6666666666666665
    },
    {
        "source": 0,
        "target": 7,
        "value": 2.0
    },
    {
        "source": 0,
        "target": 8,
        "value": 2.0
    },
    {
        "source": 1,
        "target": 5,
        "value": 1.0
    },
    {
        "source": 1,
        "target": 6,
        "value": 2.3333333333333335
    },
    {
        "source": 1,
        "target": 7,
        "value": 2.0
    },
    {
        "source": 1,
        "target": 8,
        "value": 2.0
    },
    {
        "source": 2,
        "target": 5,
        "value": 0.6666666666666666
    },
    {
        "source": 2,
        "target": 6,
        "value": 1.6666666666666667
    },
    {
        "source": 2,
        "target": 7,
        "value": 1.3333333333333333
    },
    {
        "source": 2,
        "target": 8,
        "value": 1.3333333333333333
    },
    {
        "source": 3,
        "target": 5,
        "value": 2.0
    },
    {
        "source": 3,
        "target": 6,
        "value": 2.6666666666666665
    },
    {
        "source": 3,
        "target": 7,
        "value": 2.0
    },
    {
        "source": 3,
        "target": 8,
        "value": 2.0
    },
    {
        "source": 4,
        "target": 5,
        "value": 1.3333333333333333
    },
    {
        "source": 4,
        "target": 6,
        "value": 1.3333333333333333
    },
    {
        "source": 4,
        "target": 7,
        "value": 0.6666666666666666
    },
    {
        "source": 4,
        "target": 8,
        "value": 0.6666666666666666
    }
]
const link3_4 = []
const meta_1_30 = [1, 4, 0, 7, 6, 3, 2, 8, 13, 12]
const meta_1_31 = [2, 1, 9, 10, 5, 13, 12] 
const meta_1_32 = [1, 6, 2, 11, 13]
const meta_1_33 = [5, 2, 11, 12]
const meta_1_34 = [6, 4, 0, 12, 13]
// because of the column-swap function, the indices here are relative, and should be used with a setoff value
// link1_3: base index = 9
const link3_2=[
    {
        "source": 9,
        "target": 5,
        "value": 6
    },
    {
        "source": 9,
        "target": 6,
        "value": 6
    },
    {
        "source": 10,
        "target": 6,
        "value": 6
    },
    {
        "source": 10,
        "target": 7,
        "value": 6
    },
    {
        "source": 10,
        "target": 8,
        "value": 6
    },
    {
        "source": 11,
        "target": 5,
        "value": 6
    },
    {
        "source": 11,
        "target": 6,
        "value": 6
    },
    {
        "source": 11,
        "target": 7,
        "value": 6
    },
    {
        "source": 11,
        "target": 8,
        "value": 6
    },
    {
        "source": 12,
        "target": 6,
        "value": 6
    },
    {
        "source": 12,
        "target": 7,
        "value": 6
    },
    {
        "source": 12,
        "target": 8,
        "value": 6
    },
    {
        "source": 13,
        "target": 8,
        "value": 6
    },
    {
        "source": 14,
        "target": 6,
        "value": 6
    },
    {
        "source": 14,
        "target": 7,
        "value": 6
    },
    {
        "source": 14,
        "target": 8,
        "value": 6
    },
    {
        "source": 15,
        "target": 6,
        "value": 6
    },
    {
        "source": 15,
        "target": 7,
        "value": 6
    },
    {
        "source": 15,
        "target": 8,
        "value": 6
    },
    {
        "source": 16,
        "target": 6,
        "value": 6
    },
    {
        "source": 16,
        "target": 7,
        "value": 6
    },
    {
        "source": 16,
        "target": 8,
        "value": 6
    },
    {
        "source": 17,
        "target": 5,
        "value": 6
    },
    {
        "source": 18,
        "target": 6,
        "value": 6
    },
    {
        "source": 18,
        "target": 7,
        "value": 6
    },
    {
        "source": 18,
        "target": 8,
        "value": 6
    },
    {
        "source": 19,
        "target": 6,
        "value": 6
    },
    {
        "source": 19,
        "target": 7,
        "value": 6
    },
    {
        "source": 19,
        "target": 8,
        "value": 6
    },
    {
        "source": 20,
        "target": 6,
        "value": 6
    },
    {
        "source": 20,
        "target": 7,
        "value": 6
    },
    {
        "source": 20,
        "target": 8,
        "value": 6
    },
    {
        "source": 21,
        "target": 5,
        "value": 6
    },
    {
        "source": 21,
        "target": 6,
        "value": 6
    },
    {
        "source": 21,
        "target": 7,
        "value": 6
    },
    {
        "source": 21,
        "target": 8,
        "value": 6
    },
    {
        "source": 22,
        "target": 5,
        "value": 6
    },
    {
        "source": 22,
        "target": 6,
        "value": 6
    }
]
const link2_3=[
    {
        "source": 5,
        "target": 9,
        "value": 1
    },
    {
        "source": 6,
        "target": 9,
        "value": 1
    },
    {
        "source": 6,
        "target": 10,
        "value": 1
    },
    {
        "source": 7,
        "target": 10,
        "value": 1
    },
    {
        "source": 8,
        "target": 10,
        "value": 1
    },
    {
        "source": 5,
        "target": 11,
        "value": 1
    },
    {
        "source": 6,
        "target": 11,
        "value": 1
    },
    {
        "source": 7,
        "target": 11,
        "value": 1
    },
    {
        "source": 8,
        "target": 11,
        "value": 1
    },
    {
        "source": 6,
        "target": 12,
        "value": 1
    },
    {
        "source": 7,
        "target": 12,
        "value": 1
    },
    {
        "source": 8,
        "target": 12,
        "value": 1
    },
    {
        "source": 8,
        "target": 13,
        "value": 1
    },
    {
        "source": 6,
        "target": 14,
        "value": 1
    },
    {
        "source": 7,
        "target": 14,
        "value": 1
    },
    {
        "source": 8,
        "target": 14,
        "value": 1
    },
    {
        "source": 6,
        "target": 15,
        "value": 1
    },
    {
        "source": 7,
        "target": 15,
        "value": 1
    },
    {
        "source": 8,
        "target": 15,
        "value": 1
    },
    {
        "source": 6,
        "target": 16,
        "value": 1
    },
    {
        "source": 7,
        "target": 16,
        "value": 1
    },
    {
        "source": 8,
        "target": 16,
        "value": 1
    },
    {
        "source": 5,
        "target": 17,
        "value": 1
    },
    {
        "source": 6,
        "target": 18,
        "value": 1
    },
    {
        "source": 7,
        "target": 18,
        "value": 1
    },
    {
        "source": 8,
        "target": 18,
        "value": 1
    },
    {
        "source": 6,
        "target": 19,
        "value": 1
    },
    {
        "source": 7,
        "target": 19,
        "value": 1
    },
    {
        "source": 8,
        "target": 19,
        "value": 1
    },
    {
        "source": 6,
        "target": 20,
        "value": 1
    },
    {
        "source": 7,
        "target": 20,
        "value": 1
    },
    {
        "source": 8,
        "target": 20,
        "value": 1
    },
    {
        "source": 5,
        "target": 21,
        "value": 1
    },
    {
        "source": 6,
        "target": 21,
        "value": 1
    },
    {
        "source": 7,
        "target": 21,
        "value": 1
    },
    {
        "source": 8,
        "target": 21,
        "value": 1
    },
    {
        "source": 5,
        "target": 22,
        "value": 1
    },
    {
        "source": 6,
        "target": 22,
        "value": 1
    }
]
const link1_3=[
    {
        "source": 0,
        "target": 10,
        "value": 10
    },
    {
        "source": 0,
        "target": 13,
        "value": 10
    },
    {
        "source": 0,
        "target": 9,
        "value": 10
    },
    {
        "source": 0,
        "target": 16,
        "value": 10
    },
    {
        "source": 0,
        "target": 15,
        "value": 10
    },
    {
        "source": 0,
        "target": 12,
        "value": 10
    },
    {
        "source": 0,
        "target": 11,
        "value": 10
    },
    {
        "source": 0,
        "target": 17,
        "value": 10
    },
    {
        "source": 0,
        "target": 22,
        "value": 10
    },
    {
        "source": 0,
        "target": 21,
        "value": 10
    },
    {
        "source": 1,
        "target": 11,
        "value": 7
    },
    {
        "source": 1,
        "target": 10,
        "value": 7
    },
    {
        "source": 1,
        "target": 18,
        "value": 7
    },
    {
        "source": 1,
        "target": 19,
        "value": 7
    },
    {
        "source": 1,
        "target": 14,
        "value": 7
    },
    {
        "source": 1,
        "target": 22,
        "value": 7
    },
    {
        "source": 1,
        "target": 21,
        "value": 7
    },
    {
        "source": 2,
        "target": 10,
        "value": 5
    },
    {
        "source": 2,
        "target": 15,
        "value": 5
    },
    {
        "source": 2,
        "target": 11,
        "value": 5
    },
    {
        "source": 2,
        "target": 20,
        "value": 5
    },
    {
        "source": 2,
        "target": 22,
        "value": 5
    },
    {
        "source": 3,
        "target": 14,
        "value": 4
    },
    {
        "source": 3,
        "target": 11,
        "value": 4
    },
    {
        "source": 3,
        "target": 20,
        "value": 4
    },
    {
        "source": 3,
        "target": 21,
        "value": 4
    },
    {
        "source": 4,
        "target": 15,
        "value": 5
    },
    {
        "source": 4,
        "target": 13,
        "value": 5
    },
    {
        "source": 4,
        "target": 9,
        "value": 5
    },
    {
        "source": 4,
        "target": 21,
        "value": 5
    },
    {
        "source": 4,
        "target": 22,
        "value": 5
    }
]

const l_task_dim = [
    {
    "source": 0,
    "target": 5,
    "value": 2.0
    },
    {
    "source": 0,
    "target": 6,
    "value": 5.0
    },
    {
    "source": 1,
    "target": 5,
    "value": 1.5
    },
    {
    "source": 1,
    "target": 6,
    "value": 3.5
    },
    {
    "source": 2,
    "target": 5,
    "value": 0.5
    },
    {
    "source": 2,
    "target": 6,
    "value": 2.5
    },
    {
    "source": 3,
    "target": 5,
    "value": 1.0
    },
    {
    "source": 3,
    "target": 6,
    "value": 2.0
    },
    {
    "source": 4,
    "target": 5,
    "value": 1.5
    },
    {
    "source": 4,
    "target": 6,
    "value": 2.5
    }
    ];
const l_dim_abstract = [
    {
    "source": 5,
    "target": 7,
    "value": 2.5
    },
    {
    "source": 5,
    "target": 9,
    "value": 4.0
    },
    {
    "source": 6,
    "target": 8,
    "value": 8.5
    },
    {
    "source": 6,
    "target": 10,
    "value": 4.5
    },
    {
    "source": 6,
    "target": 11,
    "value": 7.0
    }
    ];
const l_abstract_chart = [
    {
    "source": 7,
    "target": 25,
    "value": 1
    },
    {
    "source": 7,
    "target": 12,
    "value": 1
    },
    {
    "source": 8,
    "target": 21,
    "value": 1
    },
    {
    "source": 8,
    "target": 25,
    "value": 1
    },
    {
    "source": 8,
    "target": 12,
    "value": 1
    },
    {
    "source": 8,
    "target": 13,
    "value": 1
    },
    {
    "source": 8,
    "target": 22,
    "value": 1
    },
    {
    "source": 8,
    "target": 23,
    "value": 1
    },
    {
    "source": 8,
    "target": 19,
    "value": 1
    },
    {
    "source": 9,
    "target": 14,
    "value": 1
    },
    {
    "source": 9,
    "target": 24,
    "value": 1
    },
    {
    "source": 10,
    "target": 13,
    "value": 1
    },
    {
    "source": 10,
    "target": 14,
    "value": 1
    },
    {
    "source": 10,
    "target": 15,
    "value": 1
    },
    {
    "source": 10,
    "target": 24,
    "value": 1
    },
    {
    "source": 10,
    "target": 17,
    "value": 1
    },
    {
    "source": 11,
    "target": 21,
    "value": 1
    },
    {
    "source": 11,
    "target": 25,
    "value": 1
    },
    {
    "source": 11,
    "target": 12,
    "value": 1
    },
    {
    "source": 11,
    "target": 22,
    "value": 1
    },
    {
    "source": 11,
    "target": 14,
    "value": 1
    },
    {
    "source": 8,
    "target": 16,
    "value": 1
    },
    {
    "source": 8,
    "target": 18,
    "value": 1
    },
    {
    "source": 11,
    "target": 20,
    "value": 1
    }
    ]
const l_chart_encode = [
    {
    "source": 21,
    "target": 26,
    "value": 1
    },
    {
    "source": 25,
    "target": 26,
    "value": 1
    },
    {
    "source": 12,
    "target": 26,
    "value": 1
    },
    {
    "source": 13,
    "target": 26,
    "value": 1
    },
    {
    "source": 22,
    "target": 26,
    "value": 1
    },
    {
    "source": 23,
    "target": 26,
    "value": 1
    },
    {
    "source": 19,
    "target": 26,
    "value": 1
    },
    {
    "source": 24,
    "target": 26,
    "value": 1
    },
    {
    "source": 17,
    "target": 26,
    "value": 1
    },
    {
    "source": 13,
    "target": 27,
    "value": 1
    },
    {
    "source": 21,
    "target": 28,
    "value": 1
    },
    {
    "source": 25,
    "target": 28,
    "value": 1
    },
    {
    "source": 12,
    "target": 28,
    "value": 1
    },
    {
    "source": 13,
    "target": 28,
    "value": 1
    },
    {
    "source": 22,
    "target": 28,
    "value": 1
    },
    {
    "source": 23,
    "target": 28,
    "value": 1
    },
    {
    "source": 19,
    "target": 28,
    "value": 1
    },
    {
    "source": 14,
    "target": 28,
    "value": 1
    },
    {
    "source": 15,
    "target": 28,
    "value": 1
    },
    {
    "source": 24,
    "target": 28,
    "value": 1
    },
    {
    "source": 17,
    "target": 28,
    "value": 1
    },
    {
    "source": 21,
    "target": 29,
    "value": 1
    },
    {
    "source": 25,
    "target": 29,
    "value": 1
    },
    {
    "source": 23,
    "target": 29,
    "value": 1
    },
    {
    "source": 15,
    "target": 29,
    "value": 1
    },
    {
    "source": 24,
    "target": 29,
    "value": 1
    },
    {
    "source": 17,
    "target": 29,
    "value": 1
    },
    {
    "source": 12,
    "target": 30,
    "value": 1
    },
    {
    "source": 22,
    "target": 30,
    "value": 1
    },
    {
    "source": 19,
    "target": 30,
    "value": 1
    },
    {
    "source": 13,
    "target": 32,
    "value": 1
    },
    {
    "source": 21,
    "target": 33,
    "value": 1
    },
    {
    "source": 25,
    "target": 33,
    "value": 1
    },
    {
    "source": 22,
    "target": 33,
    "value": 1
    },
    {
    "source": 24,
    "target": 33,
    "value": 1
    },
    {
    "source": 16,
    "target": 26,
    "value": 1
    },
    {
    "source": 18,
    "target": 28,
    "value": 1
    },
    {
    "source": 18,
    "target": 30,
    "value": 1
    },
    {
    "source": 20,
    "target": 31,
    "value": 1
    }
    ]
function getData(){
    let combinedList = [...l_task_dim, ...l_dim_abstract, ...l_abstract_chart, ...l_chart_encode]
    return{        
        "links": combinedList
    }
}
function getData2(){
    let combinedList = [...link1_3, ...link3_2]
    return{        
        "links": combinedList
    }
}

// labels 

const types = ['Density plot', 'Scatterplot', 'Heatmap', 'Dendrogram', 'Voronoi diagram',
    'Parallel coordinates','Contour plot', '2D density plot', 'Radial chart', 'Box plot',
    'Violin plot', 'Line plot', 'Bar chart', 'Histogram'],
tasks = ["Cluster Identification", "Anomaly Detection", "Distance Preservation", "Global Structure", "Class Separation"],
dimensions=["1D", "2D"],
attributes=['One Numeric', 'Two Numeric', 'One Categorical', 'Several Categorical', 'One Num, One Cat'],
encoding=['Position', 'Point', 'Color', 'Line', 'Size(area)', 'Angle', 'Shape', 'Length'];

const column_1 = tasks,
column_2 = dimensions,
column_3 = attributes,
column_4 = types,
column_5 = encoding;
const task_charts = [[1, 4, 0, 7, 6, 3, 2, 8, 13, 12],
    [2, 1, 9, 10, 5, 13, 12],
    [1, 6, 2, 11, 13],
    [5, 2, 11, 12],
    [6, 4, 0, 12, 13]];



// colors for each column
const colorCol2=['#b2e2e2','#66c2a4','#2ca25f','#006d2c'],
colorCol1=['#e41a1c','#377eb8','#984ea3','#ff7f00','#a65628'],
colorCol3=['#a6cee3','#1f78b4','#b2df8a','#33a02c','#fb9a99','#e31a1c','#fdbf6f','#ff7f00','#cab2d6','#6a3d9a'],
colorCol4=['#1b9e77','#d95f02','#7570b3','#e7298a','#66a61e','#e6ab02','#a6761d','#666666'];

const colorColAb=["#fcae91", "#fb6a4a","#6baed6", "#3182bd", "#b8a0c3"];
/*----------------------------------------------------------------------------------- */
//this part for the two additional categories

const compaIdx = []; //indices in the array chart types
const relIdx = []; //indices in the array chart types
const colorFunctions = ["#5ab4ac", "#d8b365"];
const nameFunctions = ["Data1", "Data2"];
var compa_name = [],
rel_name = []; 


/*------------------------------------------------------------------------------------ */

var buttonTexts = ["Tasks", "Dimensions", "Chart Types"];


/*-------------------------------------------------------------------------------------- */
// the copy icon

const copySVG = 'M360-240q-33 0-56.5-23.5T280-320v-480q0-33 23.5-56.5T360-880h360q33 0 56.5 23.5T800-800v480q0 33-23.5 56.5T720-240H360Zm0-80h360v-480H360v480ZM200-80q-33 0-56.5-23.5T120-160v-560h80v560h440v80H200Zm160-240v-480 480Z';

/*------------------------------------------------------------------------------------- */
// for the tooltip
var abstract_dict = {'One Numeric': 2,
'Two Numeric': 8,
'Three Numeric': 7,
'Several Numeric': 9,
'One Categorical': 6,
'Several Categorical': 12,
'One Num, One Cat': 10,
'One Cat, Several Num': 14,
'Several Cat, One Num': 15};

 var dim_dict = {'1D': 8, '2D': 15, '3D': 10, 'HD': 22};



 /*------------------------------------------------------------------------------------------ */


// transfer data to object
var DataObj = (function() {
    var data;
  
    var sankey;
  
    function initialize() {
      return {
        data: data_process(),
  
        sankey: d3.sankey()
        .nodeWidth(15)
        .nodePadding(10)
        .size([width, height]),
  
        updateData: function(newValue) {
          this.data = newValue;
        },
  
        getData: function() {
          return this.data;
        },
  
        updateSankey: function(newValue){
          this.sankey = newValue;
        },
        
        getSankey : function(){
          return this.sankey;
        }
      };
    }
  
    return {
      getData: function() {
        if (!data) {
          data = initialize();
        }
        return data;
      },
      getSankey: function() {
        return sankey;
      }
    };
  })();


  
  
  // TODO
  // limit max - height of chart on big screen
  // data & buttons (delete columns)
  // print svg
