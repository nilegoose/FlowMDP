
const l_task_dim = [
    {
    "source": 0,
    "target": 5,
    "value": 4
    },
    {
    "source": 0,
    "target": 6,
    "value": 10
    },
    {
    "source": 1,
    "target": 5,
    "value": 3
    },
    {
    "source": 1,
    "target": 6,
    "value": 7
    },
    {
    "source": 2,
    "target": 5,
    "value": 1
    },
    {
    "source": 2,
    "target": 6,
    "value": 5
    },
    {
    "source": 3,
    "target": 5,
    "value": 2
    },
    {
    "source": 3,
    "target": 6,
    "value": 4
    },
    {
    "source": 4,
    "target": 5,
    "value": 3
    },
    {
    "source": 4,
    "target": 6,
    "value": 5
    }
    ];
const l_dim_abstract = [
    {
    "source": 5,
    "target": 7,
    "value": 2.5
    },
    {
    "source": 5,
    "target": 9,
    "value": 4.0
    },
    {
    "source": 6,
    "target": 8,
    "value": 8.5
    },
    {
    "source": 6,
    "target": 10,
    "value": 4.5
    },
    {
    "source": 6,
    "target": 11,
    "value": 7.0
    }
    ];
const l_abstract_chart = [
    {
    "source": 7,
    "target": 25,
    "value": 1
    },
    {
    "source": 7,
    "target": 12,
    "value": 1
    },
    {
    "source": 8,
    "target": 21,
    "value": 1
    },
    {
    "source": 8,
    "target": 25,
    "value": 1
    },
    {
    "source": 8,
    "target": 12,
    "value": 1
    },
    {
    "source": 8,
    "target": 13,
    "value": 1
    },
    {
    "source": 8,
    "target": 22,
    "value": 1
    },
    {
    "source": 8,
    "target": 23,
    "value": 1
    },
    {
    "source": 8,
    "target": 19,
    "value": 1
    },
    {
    "source": 9,
    "target": 14,
    "value": 1
    },
    {
    "source": 9,
    "target": 24,
    "value": 1
    },
    {
    "source": 10,
    "target": 13,
    "value": 1
    },
    {
    "source": 10,
    "target": 14,
    "value": 1
    },
    {
    "source": 10,
    "target": 15,
    "value": 1
    },
    {
    "source": 10,
    "target": 24,
    "value": 1
    },
    {
    "source": 10,
    "target": 17,
    "value": 1
    },
    {
    "source": 11,
    "target": 21,
    "value": 1
    },
    {
    "source": 11,
    "target": 25,
    "value": 1
    },
    {
    "source": 11,
    "target": 12,
    "value": 1
    },
    {
    "source": 11,
    "target": 22,
    "value": 1
    },
    {
    "source": 11,
    "target": 14,
    "value": 1
    },
    {
    "source": 8,
    "target": 16,
    "value": 1
    },
    {
    "source": 8,
    "target": 18,
    "value": 1
    },
    {
    "source": 11,
    "target": 20,
    "value": 1
    }
    ]
const l_chart_encode = [
    {
    "source": 21,
    "target": 26,
    "value": 1
    },
    {
    "source": 25,
    "target": 26,
    "value": 1
    },
    {
    "source": 12,
    "target": 26,
    "value": 1
    },
    {
    "source": 13,
    "target": 26,
    "value": 1
    },
    {
    "source": 22,
    "target": 26,
    "value": 1
    },
    {
    "source": 23,
    "target": 26,
    "value": 1
    },
    {
    "source": 19,
    "target": 26,
    "value": 1
    },
    {
    "source": 24,
    "target": 26,
    "value": 1
    },
    {
    "source": 17,
    "target": 26,
    "value": 1
    },
    {
    "source": 13,
    "target": 27,
    "value": 1
    },
    {
    "source": 21,
    "target": 28,
    "value": 1
    },
    {
    "source": 25,
    "target": 28,
    "value": 1
    },
    {
    "source": 12,
    "target": 28,
    "value": 1
    },
    {
    "source": 13,
    "target": 28,
    "value": 1
    },
    {
    "source": 22,
    "target": 28,
    "value": 1
    },
    {
    "source": 23,
    "target": 28,
    "value": 1
    },
    {
    "source": 19,
    "target": 28,
    "value": 1
    },
    {
    "source": 14,
    "target": 28,
    "value": 1
    },
    {
    "source": 15,
    "target": 28,
    "value": 1
    },
    {
    "source": 24,
    "target": 28,
    "value": 1
    },
    {
    "source": 17,
    "target": 28,
    "value": 1
    },
    {
    "source": 21,
    "target": 29,
    "value": 1
    },
    {
    "source": 25,
    "target": 29,
    "value": 1
    },
    {
    "source": 23,
    "target": 29,
    "value": 1
    },
    {
    "source": 15,
    "target": 29,
    "value": 1
    },
    {
    "source": 24,
    "target": 29,
    "value": 1
    },
    {
    "source": 17,
    "target": 29,
    "value": 1
    },
    {
    "source": 12,
    "target": 30,
    "value": 1
    },
    {
    "source": 22,
    "target": 30,
    "value": 1
    },
    {
    "source": 19,
    "target": 30,
    "value": 1
    },
    {
    "source": 13,
    "target": 32,
    "value": 1
    },
    {
    "source": 21,
    "target": 33,
    "value": 1
    },
    {
    "source": 25,
    "target": 33,
    "value": 1
    },
    {
    "source": 22,
    "target": 33,
    "value": 1
    },
    {
    "source": 24,
    "target": 33,
    "value": 1
    },
    {
    "source": 16,
    "target": 26,
    "value": 1
    },
    {
    "source": 18,
    "target": 28,
    "value": 1
    },
    {
    "source": 18,
    "target": 30,
    "value": 1
    },
    {
    "source": 20,
    "target": 31,
    "value": 1
    }
    ]
function getData(){
    let combinedList = [...l_task_dim, ...l_dim_abstract, ...l_abstract_chart, ...l_chart_encode]
    return{        
        "links": combinedList
        }
}
function getData2(){
    let combinedList = [...link1_3, ...link3_2]
    return{        
        "links": combinedList
    }
}

// labels 



const types = ['Density plot', 'Scatterplot', 'Heatmap', 'Dendrogram', 'Voronoi diagram',
    'Parallel coordinates','Contour plot', '2D density plot', 'Radial chart', 'Box plot',
    'Violin plot', 'Line plot', 'Bar chart', 'Histogram'],
tasks = ["Cluster Identification", "Anomaly Detection", "Distance Preservation", "Global Structure", "Class Separation"],
dimensions=["1D", "2D"],
attributes=['One Numeric', 'Two Numeric', 'One Categorical', 'Several Categorical', 'One Num, One Cat'],
encoding=['Position', 'Point', 'Color', 'Line', 'Size(area)', 'Angle', 'Shape', 'Length'];

const column_1 = tasks,
column_2 = dimensions,
column_3 = attributes,
column_4 = types,
column_5 = encoding;
const task_charts = [[1, 4, 0, 7, 6, 3, 2, 8, 13, 12],
    [2, 1, 9, 10, 5, 13, 12],
    [1, 6, 2, 11, 13],
    [5, 2, 11, 12],
    [6, 4, 0, 12, 13]];

function locateChartColumn(){
    if(column_2 == types){
        return 2;
    }else if(column_3 == types){
        return 3;
    }else if(column_4 == types){
        return 4;
    }
    
}
    
    function locateAttributesColumn(){
    if(column_3 == attributes){
        return 3;
    }else{
        return -1;
    }
}
    
    function locateDimensionColumn(){
    if(column_2 == dimensions){
        return 2;
    }else if(column_3 == dimensions){
        return 3;
    }
}

const chartCol = locateChartColumn();
const dimCol = locateDimensionColumn();
const attriCol = locateAttributesColumn();
const encodeCol = 5;
const taskCol = 1;

// colors for each column
const colorCol2=['#b2e2e2','#66c2a4','#2ca25f','#006d2c'],
colorCol1=['#c51b7d','#377eb8','#984ea3','#ff7f00','#a65628'],
colorCol3=['#a6cee3','#1f78b4','#b2df8a','#33a02c','#fb9a99','#e31a1c','#fdbf6f','#ff7f00','#cab2d6','#6a3d9a'],
colorCol4=['#1b9e77','#d95f02','#7570b3','#e7298a','#66a61e','#e6ab02','#a6761d','#666666'];

const colorColAb=["#fb6a4a", "#de2d26","#6baed6", "#3182bd", "#865d9e"];
/*----------------------------------------------------------------------------------- */
const colorFunctions = ["#5ab4ac", "#d8b365"];
const nameFunctions = ["Data1", "Data2"];

/*------------------------------------------------------------------------------------ */

var buttonTexts = ["Tasks", "Dimensions", "Data Abstraction", "Chart Types", "Encoding Idioms"];

/*------------------------------------------------------------------------------------- */
// for the tooltip
var abstract_dict = {'One Numeric': 2,
'Two Numeric': 8,
'Three Numeric': 7,
'Several Numeric': 9,
'One Categorical': 6,
'Several Categorical': 12,
'One Num, One Cat': 10,
'One Cat, Several Num': 14,
'Several Cat, One Num': 15};

 var dim_dict = {'1D': 8, '2D': 15, '3D': 10, 'HD': 22};



 /*------------------------------------------------------------------------------------------ */


// transfer data to object
var DataObj = (function() {
    var data;
  
    var sankey;
  
    function initialize() {
      return {
        data: data_process(),
  
        sankey: d3.sankey()
        .nodeWidth(15)
        .nodePadding(10)
        .size([width, height]),
  
        updateData: function(newValue) {
          this.data = newValue;
        },

        updateNodes: function(newValue){
          this.data.nodes = newValue;
        },
  
        getData: function() {
          return this.data;
        },
  
        updateSankey: function(newValue){
          this.sankey = newValue;
        },
        
        getSankey : function(){
          return this.sankey;
        }
      };
    }
  
    return {
      getData: function() {
        if (!data) {
          data = initialize();
        }
        return data;
      },
      getSankey: function() {
        return sankey;
      }
    };
  })();


  
  
  // TODO
  // limit max - height of chart on big screen
  // print svg
